apiVersion: v1
kind: ConfigMap
metadata:
  name: jaco-config
  namespace: jaco-stg
data:
  ENV: "prod"
  DEPLOY_ENV: "staging"
  PORT: "8080"
  DOCKER: "true"
  WEBUI_NAME: "Jaco (QA)"

  # Morpheus API (OpenAI-compatible)
  OPENAI_API_BASE_URL: "https://api.mor.org/api/v1"

  # Disable Ollama (using external LLM APIs only)
  ENABLE_OLLAMA_API: "false"

  # Redis (in-cluster service)
  REDIS_URL: "redis://redis:6379"
  WEBSOCKET_MANAGER: "redis"
  ENABLE_WEBSOCKET_SUPPORT: "true"

  # Domain
  WEBUI_URL: "https://jaco-stg.manifest.network"
  CORS_ALLOW_ORIGIN: "https://jaco-stg.manifest.network"

  # Auth
  ENABLE_SIGNUP: "true"
  ENABLE_DIRECT_CONNECTIONS: "true"
  WEBUI_AUTH: "true"

  # Models â€” all users can see all models
  BYPASS_MODEL_ACCESS_CONTROL: "true"
  WEBUI_SESSION_COOKIE_SECURE: "true"
  WEBUI_SESSION_COOKIE_SAME_SITE: "lax"

  # Database
  ENABLE_DB_MIGRATIONS: "true"
  DATABASE_POOL_SIZE: "10"
  DATABASE_POOL_MAX_OVERFLOW: "5"
  DATABASE_POOL_RECYCLE: "3600"

  # Server
  UVICORN_WORKERS: "1"
  GLOBAL_LOG_LEVEL: "DEBUG"

  # Telemetry off
  ANONYMIZED_TELEMETRY: "false"
  SCARF_NO_ANALYTICS: "true"
  DO_NOT_TRACK: "true"
